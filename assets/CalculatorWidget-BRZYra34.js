import{f as s,w as g,L,b as f,N as k,a as m,o as x,e as n,k as E,v as D,x as X,p as Y}from"./index-uNFxUe7m.js";const _={class:"flex-1 bg-white relative"},C={key:0,class:"absolute inset-0 z-50 bg-transparent"},N={__name:"CalculatorWidget",props:{isOpen:Boolean},emits:["close"],setup(d,{emit:p}){const h=d,w=p,c=s(!1),b=s(null),y=s(null),o=s({x:0,y:0}),a=s(!1),u=s({x:0,y:0});function v(e){a.value=!0;const t=e.clientX||e.touches[0].clientX,r=e.clientY||e.touches[0].clientY;u.value={x:t-o.value.x,y:r-o.value.y},document.addEventListener("mousemove",l),document.addEventListener("mouseup",i),document.addEventListener("touchmove",l),document.addEventListener("touchend",i)}function l(e){if(!a.value)return;const t=e.clientX||e.touches[0].clientX,r=e.clientY||e.touches[0].clientY;o.value={x:t-u.value.x,y:r-u.value.y}}function i(){a.value=!1,document.removeEventListener("mousemove",l),document.removeEventListener("mouseup",i),document.removeEventListener("touchmove",l),document.removeEventListener("touchend",i)}return g(()=>h.isOpen,e=>{e&&(c.value||(c.value=!0),o.value.x===0&&o.value.y===0&&(o.value={x:window.innerWidth/2-250,y:window.innerHeight/2-300}))}),(e,t)=>c.value?L((x(),m("div",{key:0,ref_key:"modalRef",ref:b,class:"fixed bg-white rounded-2xl shadow-xl border border-slate-200 w-[500px] h-[600px] z-[90] overflow-hidden flex flex-col animate-[fadeIn_0.3s_ease-out]",style:Y({left:o.value.x+"px",top:o.value.y+"px"})},[n("div",{ref_key:"headerRef",ref:y,onMousedown:v,onTouchstart:v,class:"bg-slate-50 border-b border-slate-100 p-3 flex justify-between items-center cursor-move select-none"},[t[1]||(t[1]=n("span",{class:"text-xs font-bold text-slate-400 uppercase tracking-wider"},"Desmos Calculator",-1)),n("button",{onClick:t[0]||(t[0]=r=>w("close")),class:"text-slate-400 hover:text-red-500 transition-colors"},[E(D(X),{weight:"bold"})])],544),n("div",_,[a.value?(x(),m("div",C)):f("",!0),t[2]||(t[2]=n("iframe",{src:"https://www.desmos.com/scientific",class:"absolute inset-0 w-full h-full border-0",title:"Scientific Calculator"},null,-1))])],4)),[[k,d.isOpen]]):f("",!0)}};export{N as default};
