import{d as O,i as A,c as g,a as n,o as i,r as P,b as v,e,m as E,_ as G,f as J,k as h,v as a,u as p,x as U,F as S,q as F,s as V,l as W,j as K,K as $,C as B,L as X,R as I,T as Y,V as Q,U as ee}from"./index-DD-2sNs0.js";import{G as te}from"./PhWarning.vue-qsj86k62.js";import{u as le}from"./useLabReport-DMPMx-P6.js";import{C as se,a as ae,L as oe,P as ie,b as ne,c as re,S as de,p as ce,d as ue,e as pe,f as Z}from"./index-BStlNGDR.js";const ge=["width","height","fill","transform"],he={key:0},be=e("path",{d:"M244,56v64a12,12,0,0,1-24,0V85l-75.51,75.52a12,12,0,0,1-17,0L96,129,32.49,192.49a12,12,0,0,1-17-17l72-72a12,12,0,0,1,17,0L136,135l67-67H168a12,12,0,0,1,0-24h64A12,12,0,0,1,244,56Z"},null,-1),ve=[be],xe={key:1},fe=e("path",{d:"M232,56v64L168,56Z",opacity:"0.2"},null,-1),me=e("path",{d:"M232,48H168a8,8,0,0,0-5.66,13.66L188.69,88,136,140.69l-34.34-34.35a8,8,0,0,0-11.32,0l-72,72a8,8,0,0,0,11.32,11.32L96,123.31l34.34,34.35a8,8,0,0,0,11.32,0L200,99.31l26.34,26.35A8,8,0,0,0,240,120V56A8,8,0,0,0,232,48Zm-8,52.69L187.31,64H224Z"},null,-1),ye=[fe,me],ke={key:2},we=e("path",{d:"M240,56v64a8,8,0,0,1-13.66,5.66L200,99.31l-58.34,58.35a8,8,0,0,1-11.32,0L96,123.31,29.66,189.66a8,8,0,0,1-11.32-11.32l72-72a8,8,0,0,1,11.32,0L136,140.69,188.69,88,162.34,61.66A8,8,0,0,1,168,48h64A8,8,0,0,1,240,56Z"},null,-1),_e=[we],Ce={key:3},Me=e("path",{d:"M238,56v64a6,6,0,0,1-12,0V70.48l-85.76,85.76a6,6,0,0,1-8.48,0L96,120.49,28.24,188.24a6,6,0,0,1-8.48-8.48l72-72a6,6,0,0,1,8.48,0L136,143.51,217.52,62H168a6,6,0,0,1,0-12h64A6,6,0,0,1,238,56Z"},null,-1),Le=[Me],je={key:4},Ae=e("path",{d:"M240,56v64a8,8,0,0,1-16,0V75.31l-82.34,82.35a8,8,0,0,1-11.32,0L96,123.31,29.66,189.66a8,8,0,0,1-11.32-11.32l72-72a8,8,0,0,1,11.32,0L136,140.69,212.69,64H168a8,8,0,0,1,0-16h64A8,8,0,0,1,240,56Z"},null,-1),Se=[Ae],Fe={key:5},Ve=e("path",{d:"M236,56v64a4,4,0,0,1-8,0V65.66l-89.17,89.17a4,4,0,0,1-5.66,0L96,117.66,26.83,186.83a4,4,0,0,1-5.66-5.66l72-72a4,4,0,0,1,5.66,0L136,146.34,222.34,60H168a4,4,0,0,1,0-8h64A4,4,0,0,1,236,56Z"},null,-1),ze=[Ve],De={name:"PhTrendUp"},Ne=O({...De,props:{weight:{type:String},size:{type:[String,Number]},color:{type:String},mirrored:{type:Boolean}},setup(M){const b=M,k=A("weight","regular"),s=A("size","1em"),d=A("color","currentColor"),x=A("mirrored",!1),u=g(()=>b.weight??k),w=g(()=>b.size??s),L=g(()=>b.color??d),_=g(()=>b.mirrored!==void 0?b.mirrored?"scale(-1, 1)":void 0:x?"scale(-1, 1)":void 0);return(f,z)=>(i(),n("svg",E({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 256 256",width:w.value,height:w.value,fill:L.value,transform:_.value},f.$attrs),[P(f.$slots,"default"),u.value==="bold"?(i(),n("g",he,ve)):u.value==="duotone"?(i(),n("g",xe,ye)):u.value==="fill"?(i(),n("g",ke,_e)):u.value==="light"?(i(),n("g",Ce,Le)):u.value==="regular"?(i(),n("g",je,Se)):u.value==="thin"?(i(),n("g",Fe,ze)):v("",!0)],16,ge))}}),He={class:"bg-indigo-600 px-6 py-4 flex justify-between items-center shrink-0"},$e={class:"flex items-center gap-3"},Be={class:"bg-white/20 p-2 rounded-lg text-white"},Ze={class:"text-lg font-bold text-white m-0"},Te={class:"px-8 py-4 border-b border-slate-100 flex justify-center gap-2"},Re={class:"p-0 overflow-y-auto flex-1 relative bg-slate-50"},qe={key:0,class:"h-full flex flex-col p-8"},Oe={class:"flex-1 bg-white rounded-xl shadow-lg border border-slate-200 p-4 relative min-h-[300px]"},Pe={key:1,class:"absolute inset-0 flex flex-col items-center justify-center text-slate-400"},Ee={key:1,class:"h-full flex flex-col lg:flex-row divide-y lg:divide-y-0 lg:divide-x divide-slate-200"},Ge={class:"h-64 lg:h-auto lg:w-1/3 p-4 bg-white flex flex-col"},Je={class:"flex-1 relative min-h-0"},Ue={class:"flex-1 p-8 space-y-8 overflow-y-auto"},We={class:"space-y-3"},Ke={class:"grid grid-cols-1 md:grid-cols-2 gap-3"},Xe=["onClick"],Ie={key:0,class:"space-y-3"},Ye={class:"flex flex-wrap gap-3"},Qe=["onClick"],et={key:2,class:"h-full flex flex-col lg:flex-row divide-y lg:divide-y-0 lg:divide-x divide-slate-200"},tt={class:"lg:w-1/3 p-6 bg-indigo-900 text-white space-y-6"},lt={class:"text-lg italic mt-2 font-serif text-indigo-100"},st={class:"mt-2 space-y-2 text-sm text-indigo-100"},at={class:"flex items-center gap-2"},ot={key:0,class:"flex items-center gap-2"},it={class:"flex-1 p-8 space-y-6 overflow-y-auto"},nt={class:"grid grid-cols-3 gap-2 bg-slate-100 p-1 rounded-lg"},rt=["onClick"],dt={class:"space-y-2"},ct={class:"flex justify-between items-end"},ut={class:"p-6 border-t border-slate-100 flex justify-between items-center bg-slate-50 shrink-0"},pt={class:"text-xs text-slate-400 uppercase tracking-widest font-bold"},gt=["disabled"],ht={__name:"DigitalAnalysisModal",props:{isOpen:Boolean,title:{type:String,default:"Verwerking & Besluit"}},emits:["close","complete"],setup(M,{emit:b}){se.register(ae,oe,ie,ne,re,de,ce,ue,pe);const k=b,{reportData:s}=le(),d=J(0),x=g(()=>(s.lab.rows||[]).filter(o=>{const t=parseFloat(o.mass),l=parseFloat(o.force);return!isNaN(t)&&!isNaN(l)&&t>0&&l>=0}).map(o=>({...o,mass:parseFloat(o.mass),force:parseFloat(o.force)}))),u=g(()=>{const o=x.value;if(o.length<2)return{slope:0,intercept:0,rSquared:0};const t=o.length;let l=0,r=0,m=0,c=0;o.forEach(y=>{l+=y.mass,r+=y.force,m+=y.mass*y.force,c+=y.mass*y.mass});const j=t*c-l*l;if(j===0)return{slope:0,intercept:0,rSquared:0};const H=(t*m-l*r)/j,q=(r-H*l)/t;return{slope:H,intercept:q}}),w=g(()=>{const o=x.value;if(o.length===0)return{datasets:[]};const t=o.map(c=>c.mass),l=Math.min(...t,0),r=Math.max(...t)*1.1||1,m=[{x:l,y:u.value.slope*l+u.value.intercept},{x:r,y:u.value.slope*r+u.value.intercept}];return{datasets:[{label:"Metingen",data:o.map(c=>({x:c.mass,y:c.force})),backgroundColor:"#4F46E5",borderColor:"#4338CA",pointRadius:6},{label:"Trendlijn",data:m,type:"line",borderColor:"#94A3B8",backgroundColor:"transparent",borderWidth:2,pointRadius:0,tension:0,borderDash:[5,5]}]}}),L=g(()=>({responsive:!0,maintainAspectRatio:!1,plugins:{legend:{position:"bottom"},tooltip:{callbacks:{label:o=>`m: ${o.parsed.x} kg, F: ${o.parsed.y} N`}}},scales:{x:{title:{display:!0,text:"Massa (kg)"},beginAtZero:!0},y:{title:{display:!0,text:"Zwaartekracht (N)"},beginAtZero:!0}}})),_=[{id:"proportional",label:"Recht evenredig (Rechte door de oorsprong)",equation:"Fz = c . m"},{id:"linear",label:"Lineair (Rechte niet door de oorsprong)",equation:"Fz = a . m + b"},{id:"squared",label:"Kwadratisch (Parabool)",equation:"Fz = c . m²"},{id:"inverse",label:"Omgekeerd evenredig (Hyperbool)",equation:"Fz = c / m"}],f=[{id:"g",label:"De zwaarteveldsterkte (g)",value:"9,81 N/kg"},{id:"m",label:"De massa (m)",value:"kg"},{id:"k",label:"De veerconstante (k)",value:"N/m"},{id:"none",label:"Geen betekenis",value:"-"}],z=[{id:"confirmed",label:"Bevestigd",desc:"Mijn voorspelling was correct."},{id:"rejected",label:"Verworpen",desc:"Mijn voorspelling was fout."},{id:"partial",label:"Deels",desc:"Het klopte maar gedeeltelijk."}],T=g(()=>d.value===0?x.value.length>=2:d.value===1?s.lab.relationship.type&&s.lab.slopeMeaning:d.value===2?s.lab.hypothesisCheck.match&&s.lab.hypothesisCheck.explanation.length>20:!0),C=g(()=>{const o=s.lab.hypothesisCheck.match,t=s.lab.relationship.type,l=s.lab.slopeMeaning;if(!o||!t)return"";let r="";o==="confirmed"?r+="Mijn hypothese wordt bevestigd. ":o==="rejected"?r+="Mijn hypothese wordt verworpen. ":r+="Mijn hypothese wordt deels bevestigd. ";const m=_.find(c=>c.id===t)?.label.split("(")[0].trim().toLowerCase();if(r+=`De grafiek toont een ${m} verband tussen massa en zwaartekracht`,(t==="proportional"||t==="linear")&&l){const c=f.find(j=>j.id===l)?.label;l==="g"?r+=`, met een richtingscoëfficiënt die overeenkomt met ${c.toLowerCase()}.`:l!=="none"?r+=`, waarbij de richtingscoëfficiënt overeenkomt met ${c.toLowerCase()}.`:r+="."}else r+=".";return r});function D(){s.lab.hypothesisCheck.explanation=C.value}function R(){d.value<2?d.value++:(k("complete"),k("close"))}function N(){k("close"),setTimeout(()=>{d.value=0},300)}return(o,t)=>M.isOpen?(i(),n("div",{key:0,class:"modal-backdrop open",onClick:N},[e("div",{class:"modal-content max-w-4xl bg-white flex flex-col max-h-[95vh] overflow-hidden",onClick:t[1]||(t[1]=ee(()=>{},["stop"]))},[e("div",He,[e("div",$e,[e("div",Be,[h(a(Ne),{weight:"fill",class:"text-xl"})]),e("div",null,[e("h3",Ze,p(M.title),1),t[2]||(t[2]=e("p",{class:"text-xs text-indigo-200 m-0"},"Analyse & Reflectie",-1))])]),e("button",{onClick:N,class:"text-white/70 hover:text-white p-2 rounded-full transition-colors"},[h(a(U),{class:"text-2xl"})])]),e("div",Te,[(i(),n(S,null,F(3,l=>e("div",{key:l,class:V(["h-2 rounded-full transition-all duration-300",d.value>=l-1?"w-12 bg-indigo-500":"w-4 bg-slate-200"])},null,2)),64))]),e("div",Re,[h(Y,{name:"fade-slide",mode:"out-in"},{default:W(()=>[d.value===0?(i(),n("div",qe,[t[5]||(t[5]=e("div",{class:"text-center mb-6"},[e("h4",{class:"text-xl font-bold text-slate-800"},"Jouw Resultaten"),e("p",{class:"text-slate-500"},"Kijk goed naar de grafiek die je hebt gemaakt.")],-1)),e("div",Oe,[x.value.length>=2?(i(),K(a(Z),{key:0,data:w.value,options:L.value},null,8,["data","options"])):(i(),n("div",Pe,[h(a(te),{class:"text-4xl mb-2 text-amber-500"}),t[3]||(t[3]=e("p",{class:"font-bold text-slate-700"},"Nog geen data beschikbaar",-1)),t[4]||(t[4]=e("p",{class:"text-sm"},'Ga terug naar de stap "Metingen Invoeren" om je data in te vullen.',-1))]))])])):d.value===1?(i(),n("div",Ee,[e("div",Ge,[t[6]||(t[6]=e("p",{class:"text-xs font-bold text-slate-400 uppercase tracking-wider mb-2"},"Jouw Grafiek",-1)),e("div",Je,[h(a(Z),{data:w.value,options:{...L.value,plugins:{legend:{display:!1}}}},null,8,["data","options"])])]),e("div",Ue,[t[9]||(t[9]=e("h4",{class:"text-xl font-bold text-slate-800"},"Analyseer de Vorm",-1)),e("div",We,[t[7]||(t[7]=e("label",{class:"font-bold text-slate-700 block"},"1. Welk wiskundig verband zie je?",-1)),e("div",Ke,[(i(),n(S,null,F(_,l=>e("button",{key:l.id,class:V(["p-3 rounded-lg border-2 text-left text-sm transition-all hover:border-indigo-300",a(s).lab.relationship.type===l.id?"border-indigo-600 bg-indigo-50 text-indigo-900 font-bold":"border-slate-200 text-slate-600"]),onClick:r=>a(s).lab.relationship.type=l.id},p(l.label),11,Xe)),64))])]),a(s).lab.relationship.type==="proportional"||a(s).lab.relationship.type==="linear"?(i(),n("div",Ie,[t[8]||(t[8]=e("label",{class:"font-bold text-slate-700 block"},"2. Wat betekent de helling (richtingscoëfficiënt)?",-1)),e("div",Ye,[(i(),n(S,null,F(f,l=>e("button",{key:l.id,class:V(["px-4 py-2 rounded-full border-2 text-sm transition-all hover:scale-105",a(s).lab.slopeMeaning===l.id?"border-indigo-600 bg-indigo-600 text-white":"border-slate-200 text-slate-600 hover:border-indigo-300"]),onClick:r=>a(s).lab.slopeMeaning=l.id},p(l.label),11,Qe)),64))])])):v("",!0)])])):d.value===2?(i(),n("div",et,[e("div",tt,[e("div",null,[t[10]||(t[10]=e("span",{class:"text-xs font-bold text-indigo-300 uppercase tracking-widest"},"Jouw Hypothese",-1)),e("p",lt,' "Als m '+p(a(s).prep.hypothesis.value1)+", dan zal Fz "+p(a(s).prep.hypothesis.value2)+'." ',1)]),e("div",null,[t[11]||(t[11]=e("span",{class:"text-xs font-bold text-indigo-300 uppercase tracking-widest"},"Jouw Analyse",-1)),e("ul",st,[e("li",at,[h(a(B),{weight:"fill"}),$(" "+p(_.find(l=>l.id===a(s).lab.relationship.type)?.label),1)]),a(s).lab.slopeMeaning?(i(),n("li",ot,[h(a(B),{weight:"fill"}),$(" Helling = "+p(f.find(l=>l.id===a(s).lab.slopeMeaning)?.label),1)])):v("",!0)])])]),e("div",it,[t[13]||(t[13]=e("h4",{class:"text-xl font-bold text-slate-800"},"Het Besluit",-1)),e("div",nt,[(i(),n(S,null,F(z,l=>e("button",{key:l.id,class:V(["py-2 rounded-md text-sm font-bold transition-all",a(s).lab.hypothesisCheck.match===l.id?l.id==="confirmed"?"bg-emerald-500 text-white shadow-sm":l.id==="rejected"?"bg-rose-500 text-white shadow-sm":"bg-amber-500 text-white shadow-sm":"text-slate-500 hover:bg-slate-200"]),onClick:r=>a(s).lab.hypothesisCheck.match=l.id},p(l.label),11,rt)),64))]),e("div",dt,[e("div",ct,[t[12]||(t[12]=e("label",{class:"font-bold text-slate-700"},"Formuleer je conclusie",-1)),C.value?(i(),n("button",{key:0,onClick:D,class:"text-xs text-indigo-600 font-bold hover:bg-indigo-50 px-2 py-1 rounded transition-colors"}," ✨ Gebruik suggestie ")):v("",!0)]),C.value&&a(s).lab.hypothesisCheck.explanation!==C.value?(i(),n("div",{key:0,class:"text-xs p-3 bg-indigo-50 text-indigo-800 rounded-lg border border-indigo-100 italic cursor-pointer hover:bg-indigo-100 transition-colors",onClick:D},' "'+p(C.value)+'" ',1)):v("",!0),X(e("textarea",{"onUpdate:modelValue":t[0]||(t[0]=l=>a(s).lab.hypothesisCheck.explanation=l),class:"w-full h-40 p-4 rounded-xl border-2 border-slate-200 focus:border-indigo-500 focus:ring-4 focus:ring-indigo-500/20 outline-none transition-all resize-none text-base leading-relaxed",placeholder:"Typ hier je besluit..."},null,512),[[I,a(s).lab.hypothesisCheck.explanation]])])])])):v("",!0)]),_:1})]),e("div",ut,[e("div",pt," Stap "+p(d.value+1)+" / 3 ",1),e("button",{onClick:R,class:"px-8 py-3 bg-indigo-600 hover:bg-indigo-500 text-white font-bold rounded-xl shadow-lg shadow-indigo-200 transition-all flex items-center gap-2 disabled:opacity-50 disabled:cursor-not-allowed",disabled:!T.value},[e("span",null,p(d.value===2?"Opslaan & Sluiten":"Volgende"),1),h(a(Q),{weight:"bold"})],8,gt)])])])):v("",!0)}},mt=G(ht,[["__scopeId","data-v-24a18699"]]);export{mt as default};
